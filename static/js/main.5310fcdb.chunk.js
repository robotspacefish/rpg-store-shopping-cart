(this["webpackJsonprpg-store-shopping-cart"]=this["webpackJsonprpg-store-shopping-cart"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(13),a(2)),l=(a(14),"set"),m="clear",u="add-to-cart",s="remove-from-cart",d="update-quantity",p="add",y="remove",f=[{name:"Sword",price:100},{name:"Shield",price:60},{name:"Power Ring",price:250},{name:"Bow",price:90},{name:"Arrow",price:5},{name:"Bomb",price:10}],h=function(e){var t=e.item,a=e.className,n=e.dispatch,c=e.modalType,o=e.children;return r.a.createElement("li",{className:a,onClick:function(){return n({type:l,modalType:c,item:t})}},o)},E=(a(15),function(e){var t=e.text;return r.a.createElement("span",{className:"ItemText"},t)}),v=a(7),b=a(4),w=function(e,t,a){return e.map((function(e){return e.name===t.name?Object(b.a)({},e,{quantity:e.quantity+=a}):e}))},T=function(e,t){return e*t},C=function(e,t){return e+T(t.price,t.quantity)},g=(a(16),function(e){var t=e.type,a=e.items,n=e.dispatch,c=e.modalType,o=e.isCart;return r.a.createElement("ul",{className:"".concat(t,"__list")},a.map((function(e){return r.a.createElement(h,{key:"".concat(Date.now(),"-").concat(t,"-").concat(e.name),className:"".concat(t,"Item"),item:e,dispatch:n,modalType:c},r.a.createElement(E,{text:e.name}),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{text:"x".concat(e.quantity)}),r.a.createElement(E,{text:"".concat(T(e.price,e.quantity),"g")})):r.a.createElement(E,{text:"".concat(e.price,"g")}))})))}),M=function(e){var t=e.dispatch;return r.a.createElement("div",{className:"Inventory items-container"},r.a.createElement("h2",null,"Inventory"),r.a.createElement(g,{type:"Inventory",items:f,dispatch:t,modalType:p}))},q=function(e){var t=e.items,a=e.dispatch;return r.a.createElement("div",{className:"Cart items-container"},r.a.createElement("h2",null,"Cart"),r.a.createElement(g,{type:"Cart",items:t,dispatch:a,modalType:y,isCart:!0}),r.a.createElement("div",{className:"Cart__total"},r.a.createElement("span",null,"TOTAL:"),r.a.createElement("span",null,t.reduce(C,0),"g")))},x=function(e){var t=e.type,a=e.text,n=e.handleOnClick;return r.a.createElement("button",{className:"HowManyModal__".concat(t,"-button"),onClick:n},a)},N=(a(17),function(e){var t=e.itemClicked,a=e.buttonText,c=e.modalType,o=e.clearItemClicked,l=e.handleSubmitItem,m=Object(n.useState)(1),u=Object(i.a)(m,2),s=u[0],d=u[1];return r.a.createElement("div",{className:"HowManyModal"},r.a.createElement("form",{className:"HowManyModal__form",onSubmit:function(e){e.preventDefault(),l(s),o()}},r.a.createElement("h2",null,"How Many ",t.name,"s?"),r.a.createElement("div",{className:"HowManyModal__input-container"},"x",r.a.createElement("input",{type:"number",id:"how-many",min:"1",max:"".concat(c===y?t.quantity:99),value:s,onChange:function(e){return d(parseInt(e.target.value))}})),r.a.createElement("div",{className:"HowManyModal__buttons"},r.a.createElement(x,{type:"cancel",text:"Cancel",handleOnClick:o}),r.a.createElement(x,{type:"confirm",text:a}))))});function k(e,t){switch(t.type){case u:return function(e,t,a){return 0===e.length?[Object(b.a)({},t,{quantity:a})]:e.find((function(e){return e.name===t.name}))?w(e,t,a):[].concat(Object(v.a)(e),[Object(b.a)({},t,{quantity:a})])}(e,t.payload.item,t.payload.qty);case d:return w(e,t.payload.item,t.payload.qty);case s:return function(e,t){return e.filter((function(e){return e.name!==t.name}))}(e,t.payload.item,t.payload.qty);default:return e}}function O(e,t){switch(t.type){case l:return{isModalVisible:!0,modalType:t.modalType,item:t.item};case m:return{isModalVisible:!1,modalType:null,item:null};default:return e}}a(18);var _=function(){var e=Object(n.useReducer)(k,[]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useReducer)(O,{isModalVisible:!1,modalType:null,item:null}),l=Object(i.a)(o,2),y=l[0],f=l[1],h=function(){return f({type:m})},E=function(e){(y.modalType===p?b:v)(y.item,e)},v=function(e,t){var a=e.quantity===t;c(a?{type:s,payload:{item:e}}:{type:d,payload:{qty:-t,item:e}})},b=function(e,t){var n=a.find((function(t){return t.name===e}));c({payload:{item:e,qty:t},type:n?d:u})};return r.a.createElement("div",{className:"Store"},r.a.createElement(M,{dispatch:f}),y.isModalVisible&&function(){var e=y.modalType===p?"Add to Cart":"Remove from Cart";return r.a.createElement(N,{modalType:y.modalType,itemClicked:y.item,handleAddToCart:b,handleSubmitItem:E,clearItemClicked:h,buttonText:e})}(),r.a.createElement(q,{items:a,dispatch:f}))},I=(a(19),function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Made by ",r.a.createElement("a",{href:"https://robotspacefish.dev/",target:"_blank",rel:"noopener noreferrer",title:"Opens in new window"},"robotspacefish!")))}),j=(a(20),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement(I,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.5310fcdb.chunk.js.map